// Roboto Regular font subset - Base64 encoded for Portuguese characters support
// This is a minimal subset containing Latin characters with accents (á, ã, ç, é, etc.)

export const ROBOTO_REGULAR_BASE64 = `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
Al4AHgAAATQnDgEjIiY1NDYzMhYXFjMyNjcnIgYVFBYzMjY3JgOaOxRYL1dqeFMyUhUEBBYwHU42
TEs8NT4bCAFOHiQiK25bUnIpJQEjHgFKOjxKJCQMAAAAAAIAAP90A5oCXgAeACoAAAE0Jw4BIyIm
NTQ2MzIWFxYzMjY3JyIGFRQWMzI2NyYDIgYVFBYzMjY1NCYDIC0UWC9XangTMlIVBAQWMB1ONkxL
PDU+Gwi8Ni4uNjgvLgFOHiQiK25bUnIpJQEjHgFKOjxKJCQMAek0Kis2NyspNAAAAAIAAP90A9IC
XgAqADYAAAERFBYzMjY3NjMyFhcWFRQGIyInJiMiBgcnNjU0JiMiBhUUFx4BFyY1NDYDIgYVFBYz
MjY1NCYDRC4aLkIPBQgiRAsbZ1dEDgQEFC4gSAwgMDAkOhAPOgNPOiouOC0pKgJe/rsiHjwNARIW
FxlOaBMBHBYBEjArODQpOhQIGgwTFkpm/mEyJSs1NCopNAABAAD/dAMyAl4AKQAAATQ3DgEjIiY1
NDYzMhYXFjMyNjcnNTQmIyIGFRQWFwYjIiY1NDYzMhYXJgIOFE4mRlVyXzhUEQMDFjIeSlQ0Kig+
MDAhXmBORlUjXhYBThggHidmU0lkKScBJB0BWS87PyopQRckYEZJZCMnFgAAAAACAAD/dAMyAl4A
KQA1AAABNDcOASMiJjU0NjMyFhcWMzI2Nyc1NCYjIgYVFBYXBiMiJjU0NjMyFhcmAyIGFRQWMzI2
NTQmAg4UTiZGVXJfOFQRAwMWMh5KVDQqKD4wMCFeYE5GVSNeFlY4LS42OCwtAU4YIB4nZlNJZCkn
ASQdAVkvOz8qKUEXJGBGSWQjJxb+mTYoKTQ2Kig2AAAAAQAA/3QD6AJeAEkAAAE0NjMyFhcWFRQH
FjMyNxYVFAYjIiYnBiMiJjU0NzQnBiMiJjU0NjMyFhcWFxYzMjY3JzU0JiMiBhUUFhcGIyImNTQ2
MzIWFyYnNgJuUDwsWxsSCiYxKjMNblY3VxYlLkpkDgQRJk5Sa0MnSw8FCwQWMR5KVDQqKD4wMCFe
YE5GVSNeGAYRAQw8Th8yFRINEi4pKkRSYygoNlBOIQILERlgSkhkIycFBgEkHQFZLzs/KilBFyRg
RklkIycSBxgAAgAA/3QDqAJeAC0AOQAAATQnBiMiJjU0NjMyFhcWFxYzMjY3JzU0JiMiBhUUFhcG
IyImNTQ2MzIWFzY1NCYDIgYVFBYzMjY1NCYCzBIwVkdZbUw8VA4ICwYWMR5KVDQqKD4wMCFeYE5G
VSNeFzE8VjgtLjY4LC0BTi4lVlVGViktDhABJB0BWS87PyopQRckYEZJZCMnJi0xOv2KNigpNDYq
KDYAAQAA/3QD6AJeAEEAACU0NjMyFhcWMzI2Nyc1NCYjIgYVFBYXBiMiJjU0NjMyFhcmJzYzMhYX
FhUUBwYjIiYnBiMiJjU0Nw4BJyImNTQ3NgKMUDwsWxUEAxYwHUpUNCooPlAwHl5gTkZVI14YBhc6
SF4eDwg4aVReEC0sSmQOFFwmRVYmGAw8Th8zASQdAVkvOz8qKUEXJGBGSWQjJxIHIEYxMQ8PER9O
RC82UE4hBB4eZlM+HhAAAAABAAD/dAPkAl4APwAAARQGIyImNTQ2MzIWFRQXNjMyFhUUBiMiJjU0
JzY1NCYjIgYVFBYXBiMiJjU0NjMyFhcmNTQ2MzIWFRQGIyImJwYDiFw2SFVCRC42EzIaQFpRPThS
LARUNCooPlAwHl5gTkZVI14YIGRHPFBYQSV+HgHgOkxGMixCQiooIDhWNjZSQisQChIvOz8qKUEX
JGBGSWQjJxAeQFZQOjZGRyMgAAABAAD/dAPkAl4ARQAAARQGIyInFjMyNjU0JicGIyImNTQ2MzIW
FSM0JiMiBhUUFjMyNxQGIyImNTQ2MzIWFRQGBzYzMhYVFAYjIiY1NDcGIyImNTQCllhKTRAqNjRC
OT4uJktqflBAKmJQNSctLx8dFiRHQz1QQDQlbisLaUpWPDxUVi0zVWMCOk5gATMuKkYXIDlQOERU
OjE4Oiw0UUgxQB8qODovJQ4VIW1KPlhsLCEQHmAqNAAAAAACAAD/dAPwAl4AGwAnAAABMhYXNjU0
JiMiBhUUFhcGIyImNTQ2MzIWFx4BBzQmIyIGFRQWMzI2AopMXicuVDQqKD5QLh5eYE5GVSNeFFhn
NTQrKjY2Kis1AW5mJyUrLzs/KilBFyRgRklkIycUV3QyKjc3Kis2NgAAAAACAAD/dAO2Al4AIAA4
AAABNDYzMhYXFhczNTQmIyIGFRQWFwYjIiY1NDYzMhYXLgE1AyIGFRQWFwYjIiY1NDYzMhYXJjU0
JicGAlBQQjhOEg4IKFw2LCg+LCwhXmBORlUjXhAMZDw0Lis+MDAfXmBORlUjXgIWLgE4PUwgNBsR
Ni07OyspQRAkYEZJZCMnEyhKJv48OSwsPhIkYEZJZCMnGiIySxAAAAAAAgAA/3QDtgJeACAAOgAA
ATQ2MzIWFxYXMzU0JiMiBhUUFhcGIyImNTQ2MzIWFy4BNQMiBhUUFxYzMjY3JyIGFRQWMzI2NTQm
JwYCUFA8N04TDAYWXC0pJT4sLCFeYE5GVSNeEBBoOysTDQYWMB5ORy0rNzQmFjABOD1MIDQYDjYt
OzkrKUAQJGBGSWQjJxMoSib+ajksFQ0BJB0BWCctLz0sMUkRAAACAAD/dAMoAl4AIQAtAAABFhUU
BiMiJjU0NzYzMhYVFAYjIiY1NDcnBiMiJjU0NjMyFgMiBhUUFjMyNjU0JgKmDl1HSFkKBghNWWdU
PVMdAysiR1toSUxUVicqJilkWygBcBwRSmJgTBUKAWdMTF5sShAbSFJKTWRkARkmJCYmYlMkAAAA
AgAA/3QDrAJeACEALQAAARQHNjMyFhUUBiMiJjU0NwYjIiY1NDYzMhYVFAcnNjMyFgcUFjMyNjU0
JiMiBgKqDSU+SFdjUkNTICoiR1teRkhaNhMNLEh0MiYoYEskKSYjAXAbDDVmTE1eakohSFJKSmRh
TBUYAkxkRCYkY04mJikAAAIAAP90AygCXgAhAC0AAAEWFRQGIyImNTQ3NjMyFhUUBiMiJjU0Nycm
IyIGFRQWMzI2FyIGFRQWMzI2NTQmApwQXUdIWQoGCE1ZZ1Q9UyENIxQuMEM4KlR4JSgoJWFYJgFu
HRFKYmBMFQoBZ0xMXmxKEhkBOy0tNmJyJiQmJGJTJAAAAAIAAP90AywCXgAhAC0AAAEVNjMyFhUU
BiMiJjU0NwYjIiY1NDYzMhYVFAcnNjMyFhURFBYzMjY1NCYjIgYB4hwqSFdlUkNUHigmR1teRkhb
MxMKKUR0RyQqYFckJCkiAWxLOV5JTF5qSiZFUkpMYmJMEBgCTGT+yiQoYE4mJigAAAABAAD/dAPY
Al4AKQAAATU0JiMiBhUUFhcGIyImNTQ2MzIWFyY1NDYzMhYVFAcGIyIGFRQWMzI2AuhUNCooPlAw
Hl5gTkZVI14YOio0SEYODCBSNicmJRQBVFkvOz8qKUEXJGBGSWQjJxYqMz1iURoVASsoKSYmAAAA
AgAA/3QD9gJeACgANAAAATU0JiMiBhUUFhcGIyImNTQ2MzIWFyY1NDYzMhYVFAcWMzI2NTQnDgEH
IgYVFBYzMjY1NCYDLlQ0Kig+UDAeXmBORlUjXhg6KjRIRB0cKCI6HhZCqTYqKTg2Kis0AVRZLzs/
KilBFyRgRklkIycWKjM9YlEVEDY6Kh8OHCCqOScoNjcoKjYAAgAA/3QD9gJeACgANAAAJTU0JiMi
BhUUFhcGIyImNTQ2MzIWFyY1NDYzMhYVFAcnNjMyFhUUBiciBhUUFjMyNjU0JgMuVC4qKD5QLx5e
YE5GVSNeFDoqNEhEDRIpRFZiXjYqKTg2Kis0UlkuOj4qKUIXJGBGSWQjJxYqMz1iURsWAlJGSF7C
OScoNjcoKjYAAgAA/3QD9gJeACgANAAAJTU0JiMiBhUUFhcGIyImNTQ2MzIWFyY1NDYzMhYVFAcn
NjMyFhUUBiciBhUUFjMyNjU0JgMuVC4qKD5QLx5eYE5GVSNeFDoqNEhEDRIpRFZiXjYqKTg2Kis0
UlkuOj4qKUIXJGBGSWQjJxYqMz1iURsWAlJGSF7COScoNjcoKjYAAAACAAD/dAQIAl4AMAA8AAAB
NTQmIyIGFRQWFwYjIiY1NDYzMhYXJicmNTQ2MzIWFRQHFhUUBiMiJjU0NjMyFhcGFyIGFRQWMzI2
NTQmA0BULiooPk8vHl5gTkZVI14YAxQoPioyR0MbPCw7UFBCOFQgLPQ2Kis0OSopNAFUWS46Piop
QhckYEZJZCMnEQYeDTEzPWJOKhIWETRCUFBCLz0lInQ4Jyg2NygqNgADAAD/dAQKAl4AOABEAD4A
ABM0Nw4BIyImNTQ2MzIWFxYXFjMyNjcnNTQmIyIGFRQWFwYjIiY1NDYzMhYXJjU0NjMyFhUUBxYz
MjYDIgYVFBYzMjY1NCYzNCMiJjU0NjMyFggOFFYkRlVyXzlTEQkLBBYwHUpUNCooPlAwHl5gTkZV
I14YOio0SEQdHCgiOlo4LS42OC0rAlglSEhEJkoBThQeHidmU0lkKicGBgEkHQFZLzs/KilBFyRg
RklkIycWKjM9YlEVEDY6/t42KCk0NigpNr4oSicnSgAAAAIAAP90A/YCXgAxAD0AABM0Nw4BIyIm
NTQ2MzIWFxYXFjMyNjcnNTQmIyIGFRQWFwYjIiY1NDYzMhYXJjU0NjMyFgciBhUUFjMyNjU0JggO
FFYkRlVyXzlTEQkLBBYwHUpUNCooPlAwHl5gTkZVI14YOio0SEhWNikrNjYrKTkBThQeHidmU0lk
KicGBgEkHQFZLzs/KilBFyRgRklkIycWKjM9YpI6JyoyMyopOgAAAAIAAP90A/YCXgAoADQAACUU
BiMiJjU0NyY1NDYzMhYVFAYHNjMyFjMyNjcnNTQmIyIGFRQWFwYDIgYVFBYzMjY1NCYDajosN0gQ
HzosNEgCRjILPy4CLSBLVC0rKD4wMA9INiovNDcqKTTwM0hiURYoFBwxPWNFDjUMPgEkHQFZLzw+
KilBFwFANigqNjYoKjYAAAACAAD/dAQYAl4APgBKAAABNTQmIyIGFRQWFw4BIyImNTQ2MzIWFyY1
NDcOASMiJjU0NjMyFhcWFxYzMjY3JzU0JiMiBhUUFhcGIyImNRMiBhUUFjMyNjU0JgNMVC4qKD4v
FFooR1dqXy9gGjIOFFYkRlVyXzlTEQkLBBYwHUpUNCooPlAwHl5gTpA2Kis0OSopNAFUWS46Piop
QRMsKWRMSmIrLRYYFB4eJ2ZTSWQ';

// Add more font data here for full character set
// Note: This is a truncated version for demo - you need the full Base64 font
`;

// Full Roboto font loading function
export async function loadRobotoFont(doc: any): Promise<void> {
  // For production, use a CDN or bundled font
  // Using standard helvetica fallback with special character handling
  const fontUrl = 'https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Me5WZLCzYlKw.ttf';
  
  try {
    const response = await fetch(fontUrl);
    const fontData = await response.arrayBuffer();
    const fontBase64 = btoa(String.fromCharCode(...new Uint8Array(fontData)));
    
    doc.addFileToVFS('Roboto-Regular.ttf', fontBase64);
    doc.addFont('Roboto-Regular.ttf', 'Roboto', 'normal');
    return;
  } catch (error) {
    console.warn('Could not load Roboto font, using fallback');
  }
}

// Normalize Portuguese characters for helvetica fallback
export function normalizePortugueseText(text: string): string {
  const charMap: Record<string, string> = {
    'á': 'a', 'à': 'a', 'ã': 'a', 'â': 'a', 'ä': 'a',
    'é': 'e', 'è': 'e', 'ê': 'e', 'ë': 'e',
    'í': 'i', 'ì': 'i', 'î': 'i', 'ï': 'i',
    'ó': 'o', 'ò': 'o', 'õ': 'o', 'ô': 'o', 'ö': 'o',
    'ú': 'u', 'ù': 'u', 'û': 'u', 'ü': 'u',
    'ç': 'c', 'ñ': 'n',
    'Á': 'A', 'À': 'A', 'Ã': 'A', 'Â': 'A', 'Ä': 'A',
    'É': 'E', 'È': 'E', 'Ê': 'E', 'Ë': 'E',
    'Í': 'I', 'Ì': 'I', 'Î': 'I', 'Ï': 'I',
    'Ó': 'O', 'Ò': 'O', 'Õ': 'O', 'Ô': 'O', 'Ö': 'O',
    'Ú': 'U', 'Ù': 'U', 'Û': 'U', 'Ü': 'U',
    'Ç': 'C', 'Ñ': 'N'
  };
  
  return text.replace(/[áàãâäéèêëíìîïóòõôöúùûüçñÁÀÃÂÄÉÈÊËÍÌÎÏÓÒÕÔÖÚÙÛÜÇÑ]/g, 
    char => charMap[char] || char);
}
